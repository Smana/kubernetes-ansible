---
- name: Kubeadm | Create directory to store kubeadm patches
  file:
    path: "{{ kubeadm_patches.dest_dir }}"
    state: directory
    mode: "0640"
  when: kubeadm_patches is defined and kubeadm_patches.enabled

- name: Kubeadm | Copy kubeadm patches from inventory files
  copy:
    src: "{{ kubeadm_patches.source_dir }}/"
    dest: "{{ kubeadm_patches.dest_dir }}"
    owner: "root"
    mode: "0644"
  when: kubeadm_patches is defined and kubeadm_patches.enabled
